@using Microsoft.AspNetCore.Authentication
@using Microsoft.AspNetCore.Authentication.Cookies
@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthStateProvider

<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="">Music Game</a>
    </div>
</div>

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<CascadingAuthenticationState>
    <div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()">
        <nav class="nav flex-column">

            <div class="nav-item px-3">
                <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                    <span class="bi bi-house-door-fill-nav-menu" aria-hidden="true"></span> Home
                </NavLink>
            </div>

            <div class="nav-item px-3">
                <NavLink class="nav-link" href="submit">
                    <span class="bi bi-plus-square-fill-nav-menu" aria-hidden="true"></span> Submit
                </NavLink>
            </div>

            <div class="nav-item px-3">
                <NavLink class="nav-link" href="Guess">
                    <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Guess
                </NavLink>
            </div>

            <AuthorizeView Roles="Admin">
                <Authorized>
                    <div class="nav-item px-3">
                        <NavLink class="nav-link" href="AdminPanel">
                            <span class="bi bi-wrench-nav-menu" aria-hidden="true"></span> Admin Pannel
                        </NavLink>
                    </div>
                </Authorized>
            </AuthorizeView>

            <div class="nav-item px-3">
                <form action="api/auth/logout" method="post">
                    <button type="submit" class="nav-link">
                        <span class="bi bi-box-arrow-right-nav-menu" aria-hidden="true"></span> Logout
                    </button>
                </form>
            </div>

        </nav>
    </div>
</CascadingAuthenticationState>
<style>
.nav-scrollable nav {
    display: flex;
    flex-direction: column;
    min-height: 100%;
}

.btn-logout {
    width: 100%;
    text-align: left;
    background: none;
    border: none;
    color: #d7d7d7;
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 0; /* Reset padding to align with other links */
}

.btn-logout:hover {
    color: white;
}

.bi-box-arrow-right-nav-menu {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-box-arrow-right' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z'/%3E%3Cpath fill-rule='evenodd' d='M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z'/%3E%3C/svg%3E");
}
</style>